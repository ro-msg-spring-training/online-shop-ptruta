CREATE USER IF NOT EXISTS "SA" SALT '3765dcf20bed31de' HASH '11fc0a499eb9162325b430dce7f8acfbf7ea2a1e4b9535f2bd05501030c36038' ADMIN;
CREATE SEQUENCE "PUBLIC"."HIBERNATE_SEQUENCE" START WITH 1;   
CREATE CACHED TABLE "PUBLIC"."flyway_schema_history"(
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL
);             
ALTER TABLE "PUBLIC"."flyway_schema_history" ADD CONSTRAINT "PUBLIC"."flyway_schema_history_pk" PRIMARY KEY("installed_rank");
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.flyway_schema_history;   
INSERT INTO "PUBLIC"."flyway_schema_history" VALUES
(-1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'SA', TIMESTAMP '2020-04-14 13:06:45.927734', 0, TRUE),
(1, '1.0', 'initial db', 'SQL', 'V1_0__initial_db.sql', 2131619548, 'SA', TIMESTAMP '2020-04-14 13:25:38.71818', 6, TRUE);           
CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history"("success");           
CREATE CACHED TABLE "PUBLIC"."CUSTOMER"(
    "ID" INTEGER NOT NULL,
    "EMAIL_ADDRESS" VARCHAR(255),
    "FIRST_NAME" VARCHAR(255),
    "LAST_NAME" VARCHAR(255),
    "USER_NAME" VARCHAR(255)
);      
ALTER TABLE "PUBLIC"."CUSTOMER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CUSTOMER;
CREATE CACHED TABLE "PUBLIC"."LOCATION"(
    "ID" INTEGER NOT NULL,
    "ADDRESS_CITY" VARCHAR(255),
    "ADDRESS_COUNTRY" VARCHAR(255),
    "ADDRESS_COUNTY" VARCHAR(255),
    "ADDRESS_STREET_ADDRESS" VARCHAR(255),
    "NAME" VARCHAR(255)
);      
ALTER TABLE "PUBLIC"."LOCATION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.LOCATION;
CREATE CACHED TABLE "PUBLIC"."ORDER_DETAIL"(
    "ORDER_DETAIL_ID" INTEGER NOT NULL,
    "QUANTITY" INTEGER,
    "ORDER_ID" INTEGER,
    "PRODUCT_ID" INTEGER
);         
ALTER TABLE "PUBLIC"."ORDER_DETAIL" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ORDER_DETAIL_ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDER_DETAIL;            
CREATE CACHED TABLE "PUBLIC"."PRODUCT"(
    "ID" INTEGER NOT NULL,
    "DESCRIPTION" VARCHAR(255),
    "IMAGE_URL" VARCHAR(255),
    "NAME" VARCHAR(255),
    "PRICE" DECIMAL(19, 2),
    "WEIGHT" DOUBLE,
    "PRODUCT_CATEGORY_ID" INTEGER,
    "SUPPLIER_ID" INTEGER
);           
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCT; 
CREATE CACHED TABLE "PUBLIC"."PRODUCT_CATEGORY"(
    "ID" INTEGER NOT NULL,
    "DESCRIPTION" VARCHAR(255),
    "NAME" VARCHAR(255)
);    
ALTER TABLE "PUBLIC"."PRODUCT_CATEGORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCT_CATEGORY;        
CREATE CACHED TABLE "PUBLIC"."STOCK"(
    "STOCK_ID" INTEGER NOT NULL,
    "QUANTITY" INTEGER,
    "LOCATION_ID" INTEGER,
    "PRODUCT_ID" INTEGER
);    
ALTER TABLE "PUBLIC"."STOCK" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4B" PRIMARY KEY("STOCK_ID"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.STOCK;   
CREATE CACHED TABLE "PUBLIC"."SUPPLIER"(
    "ID" INTEGER NOT NULL,
    "NAME" VARCHAR(255)
);             
ALTER TABLE "PUBLIC"."SUPPLIER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_C" PRIMARY KEY("ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SUPPLIER;
CREATE CACHED TABLE "PUBLIC"."ORDERS"(
    "ID" INTEGER NOT NULL,
    "ADDRESS_CITY" VARCHAR(255),
    "ADDRESS_COUNTRY" VARCHAR(255),
    "ADDRESS_COUNTY" VARCHAR(255),
    "ADDRESS_STREET_ADDRESS" VARCHAR(255),
    "LOCAL_DATE_TIME" TIMESTAMP,
    "CUSTOMER_ID" INTEGER,
    "SHIPPED_FORM_ID" INTEGER
);    
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDERS;  
CREATE CACHED TABLE "PUBLIC"."REVENUE"(
    "ID" INTEGER NOT NULL,
    "DATE" DATE,
    "SUM" DECIMAL(19, 2),
    "LOCATION_ID" INTEGER
);               
ALTER TABLE "PUBLIC"."REVENUE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.REVENUE; 
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."FKCWCLRQU392Y86Y0PMYRSI649R" FOREIGN KEY("PRODUCT_CATEGORY_ID") REFERENCES "PUBLIC"."PRODUCT_CATEGORY"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."FK2KXVBR72TMTSCJVYP9YQB12BY" FOREIGN KEY("SUPPLIER_ID") REFERENCES "PUBLIC"."SUPPLIER"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."ORDER_DETAIL" ADD CONSTRAINT "PUBLIC"."FKB8BG2BKTY0OKSA3WIQ5MP5QNC" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCT"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."FKIKTG19R1AU426FGIOVL6R56TF" FOREIGN KEY("SHIPPED_FORM_ID") REFERENCES "PUBLIC"."LOCATION"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."STOCK" ADD CONSTRAINT "PUBLIC"."FKJGHKVW2SNNSR5GPCT0OF7XFCF" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCT"("ID") NOCHECK;     
ALTER TABLE "PUBLIC"."REVENUE" ADD CONSTRAINT "PUBLIC"."FK6XUKEPD8SSA1OK6IAKKHP83P7" FOREIGN KEY("LOCATION_ID") REFERENCES "PUBLIC"."LOCATION"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."FK624GTJIN3PO807J3VIX093TLF" FOREIGN KEY("CUSTOMER_ID") REFERENCES "PUBLIC"."CUSTOMER"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."ORDER_DETAIL" ADD CONSTRAINT "PUBLIC"."FKRWS2Q0SI6OYD6IL8GQE2AENNC" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."STOCK" ADD CONSTRAINT "PUBLIC"."FK6T3M0KAF6FUBUUS331GF7XMN8" FOREIGN KEY("LOCATION_ID") REFERENCES "PUBLIC"."LOCATION"("ID") NOCHECK;   
